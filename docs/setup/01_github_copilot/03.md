---
title: 3. MCP Server
nav_order: 3
---

# 2. MCP Server

MCPサーバーは、GitHub Copilotのエージェントモードで外部ツールを利用するためのサーバーです。

例えば、フロントエンドでshadcn/uiを採用する場合、問題はGithub Copilotがshadcn/uiのコンポーネントの

1. 使用方法を理解していない🤔
2. 最新情報を持っていない🤔

ということです。

そこで、shadcn開発者が提供するMCPサーバーを利用することで、GitHub Copilotがshadcn/uiのコンポーネント情報を取得し、適切なコード生成が可能になります。

![](../../assets/img/mcp.excalidraw.svg)

## クイックスタート

今回は、[shadcn/uiのMCPサーバー](https://ui.shadcn.com/docs/mcp)を利用する手順を紹介します。

1. `.vscode/mcp.json`ファイルを作成します。
2. 以下の内容を`mcp.json`に追加します。
    ```json
    {
        "servers": {
            "shadcn": {
                "command": "npx",
                "args": ["shadcn@latest", "mcp"]
            }
        }
    }
    ```
3. shadcnのMCPサーバーが起動していることを確認します。

    ![alt text](../../assets/img/run_mcp_server.png)

## 使ってみよう

MCP ServerをPromptsと合わせて使う方法を紹介します。
よくある問題として、MCP Serverを参照してほしい場合でも、AI AgentがMCP Serverを参照しないことがあります。この場合は、PromptsでMCP Serverを強制的に参照するように指示させます。
Propmptsのフロントマター設定で、toolsを設定すると、指定したMCPサーバーを利用するように指示できます。

```markdown title="shadcn.prompt.md"
---
mode: agent
tools: ["shadcn/*"]
---

必ずshadcnのMCPサーバーのツールを使って回答してください。
MCP Serverを実行する前に回答しないでください。
```

次に、チャットで`/shadcn`コマンドを使って、shadcnのMCPサーバーを利用するように指示します。

```markdown
/shadcn テーブルの利用方法を教えてください。
```

以下のようにAgentがMCPサーバーを参照して、shadcn/uiのテーブルコンポーネントの使用方法を説明してくれたら成功です。

![alt text](../../assets/img/shadcn_table.png)
